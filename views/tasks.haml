!!!
%html
  %head
    %title Tasks
    %script{ :type => 'text/javascript',
             :src => '//ajax.googleapis.com/ajax/libs/angularjs/1.2.3/angular.min.js' }
    %script{ :type => 'text/javascript',
             :src => '//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js' }
    %script{ :type => 'text/javascript',
             :src => 'tasks.js' }
    :css
      hint { padding: 0 5px; color: #AAA; font-size: 0.8em }

  %body{:'data-tasks-app' => ''}
    %div.tasks{:'ng-controller' => 'TasksCtrl'}
      %h1 Tasks

      %div
        %input{:type => 'text', :name => 'task', :placeholder => 'Buy milk', :'ng-model' => 'title'}
        %button{:'ng-click' => 'addTask()'} Add task

      %ul.tasks
        - tasks.each do |task|
          %li
            =task.title
            %hint
              =task.create_time.strftime '%Y-%m-%d %l:%M %P'
        %li{:'ng-repeat' => 'task in tasks'}
          {{ task.task }}
          %hint
            {{ task.time|date:'yyyy-MM-dd h:mm a' }}

    :javascript
      angular.bootstrap(document, ["tasks"]);
